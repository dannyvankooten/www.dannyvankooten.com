<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="/styles.css?v=202310222">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="icon" href="/img/favicon.png" type="image/png">
    <title>CodeIgniter Sessions in IE7</title>
    <link rel="canonical" href="https://www.dannyvankooten.com/blog/2011/codeigniter-sessions-in-ie7/">
</head>
<body>
<header class="site-header">
    <nav class="container">
        <ul>
            <li class="home"><a href="/" rel="home">Danny van Kooten</a></li>
            <li><a href="/about/">About me</a></li>
            <li><a href="/blog/">Blog</a></li>
            <li><a href="/contact/">Contact</a></li>
        </ul>
    </nav>
</header>
<main>
    <div class="container">


<h1>CodeIgniter Sessions in IE7</h1>

<p class="muted">Published <time datetime="2011-01-31">2011-01-31</time> on <a href="https://www.dannyvankooten.com/blog/2011/codeigniter-sessions-in-ie7/">Permalink</a></p>


<p>Yesterday, while working on a fairly simple application that required a login functionality I came across a very strange problem with CodeIgniter and sessions in Internet Explorer 7. While testing everything seemed to work fine in all browsers, even in IE6 (I use IETester to test for the older versions of IE).</p>
<h3>CodeIgniter Sessions not working in IE7</h3>
<p>When showing the application to some friends it turned out that they were not able to log in.</p>
<p>I thought that maybe their browser (IE7, yep..) was blocking cookies so I asked them to lower their security setting. No luck.</p>
<p>After checking my code and some more testing I excluded my code from being the problem.</p>
<p>A few google queries later I found out that more CodeIgniter users have been experiencing the same problem with Internet Explorer 7 and CodeIgniter sessions not being stored.</p>
<h3>IE7 and the CI_Session class</h3>
<p>Since CodeIgniter sessions work fine in some IE7 browsers and fail miserably in others there currently seems to be no definite fix for this problem.</p>
<h4>Underscore in the CodeIgniter session cookie</h4>
<p>One thing that at least seems related it is the underscore <code>_</code> in the cookie name that stores the session variables.</p>
<p>The default CI cookie name is 'ci_session'. Renaming that to <code>cisession</code>, without the underscore, did the trick for me.</p>
<pre><code class="language-php?start_inline=1">$config['sess_cookie_name'] = 'cisession'; // note: no more underscore
</code></pre>
<h4>Server time setting</h4>
<p>If that didn't do the trick for you you might try checking you're server's time settings. When cookies are being stored they are given a lifetime. It could be that you're server's time is a few hours behind and thus cookies will be removed immediately since their lifetime is already over.</p>
<h4>Native PHP sessions</h4>
<p>The last thing you can do is to drop the CodeIgniter session library and start using PHP's default session handling using <code>session_start()</code>, <code>$_SESSION[]</code>, <code>unset</code> and <code>session_destroy</code>.</p>
<p>Have a look at the <a href="https://codeigniter.com/wiki/Native_session/">CodeIgniter Native Session Library</a> if you really need to use a library to handle your sessions.</p>


</div>
</main>
<footer class="container site-footer">
    <div class="footer-col mb">
        <ul class="nolist">
            <li><a href="/about/" style="font-weight: bold; text-decoration: none;">About me</a></li>
            <li><a href="/bookmarks/">Bookmarks</a></li>
            <li><a href="/blog/">Blog</a></li>
            <li><a href="/code/">Code</a></li>
            <li><a href="/contact/">Contact me</a></li>
        </ul>
    </div>
    <div class="footer-col mb">
        <ul class="nolist">
            <li><a href="/projects/" style="font-weight: bold; text-decoration: none;">Projects</a></li>
            <li><a href="https://www.mc4wp.com/">Mailchimp for WordPress</a></li>
            <li><a href="https://www.kokoanalytics.com/">Koko Analytics</a></li>
            <li><a href="https://www.htmlformsplugin.com/">HTML Forms plugin</a></li>
        </ul>
    </div>
    <p style="clear:both;">Find me on <a href="https://git.sr.ht/~dvko/" class="icon sourcehut" rel="me nofollow author">sourcehut</a>,
        <a href="https://github.com/dannyvankooten/" class="icon github" rel="me nofollow author">GitHub</a> and <a rel="me" href="https://toot.re/@dvk" class="icon mastodon">Mastodon</a>.
    </p>
    <p>This website is statically built using <a href="https://www.getzola.org/">Zola</a>. You can find <a href="https://git.sr.ht/~dvko/dannyvankooten.com" rel="nofollow">its source code here</a>.</p>
    <p>Pageviews for this site are counted using a standalone spin-off of Koko Analytics, code-named <a href="https://teller.dvk.co/">Teller</a>.</p>
</footer>
<script>
    ((t, cnf) => {
        window[t] = cnf;
        let s = document.createElement('script');
        s.defer = true;
        s.src = [cnf.url, '/assets/', t, '.min.js'].join('');
        document.body.appendChild(s)
    })('teller', {
        url: 'https://teller.dvk.co',
        site: '433ca337-2a49-4391-a340-e3c3bbbb32d3'
    })
</script>
</body>
</html>

