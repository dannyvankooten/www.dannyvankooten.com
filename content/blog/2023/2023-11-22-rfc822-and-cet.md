+++
title = "RFC822 formatted datetimes and CET timezone"
+++

While building [Gozer](https://github.com/dannyvankooten/gozer), the static site generator responsible for building this website from a bunch of Markdown files, I got bit by a peculiarity around RFC822 formatted datetimes.

I was working on generating an XML feed that adhered to the [RSS 2.0 specification](https://www.rssboard.org/rss-specification), which states that all datetimes in RSS must conform to the [Date and Time Specification of RFC 822](https://www.rfc-editor.org/rfc/rfc822.html#section-5.1).

This format is important enough to have its own [constant in Golang's time package](https://pkg.go.dev/time#pkg-constants) so formatting a local time in that format should be as easy as:

```go
publishedAt.Format(time.RFC822)
```

Except... W3C's feed validation service kept rejecting the feed because of a "[problematic RFC 822 date-time value](https://validator.w3.org/feed/docs/warning/ProblematicalRFC822Date.html)".

Huh. Is Golang outputting the wrong format or is W3C being weird? Who's wrong here?

The datetime being rejected looked like this:

```
Wed, 22 Nov 2023 16:33:55 CET
```

While W3C's shows the following as an example datetime which is valid:

```
Wed, 02 Oct 2002 08:00:00 EST
```

Can you spot the difference? I couldn't and called it a day...

### Accepted timezone names for RFC 822

A few hours later I decided to take a closer look at the RFC822 specification.

```txt
zone        =  "UT"  / "GMT"                ; Universal Time
                                         ; North American : UT
         /  "EST" / "EDT"                ;  Eastern:  - 5/ - 4
         /  "CST" / "CDT"                ;  Central:  - 6/ - 5
         /  "MST" / "MDT"                ;  Mountain: - 7/ - 6
         /  "PST" / "PDT"                ;  Pacific:  - 8/ - 7
         /  1ALPHA                       ; Military: Z = UT;
                                         ;  A:-1; (J not used)
                                         ;  M:-12; N:+1; Y:+12
         / ( ("+" / "-") 4DIGIT )        ; Local differential
                                         ;  hours+min. (HHMM)
```

Apparently, `CET` is the issue here. RFC 822 only supports a very limited set of symbolic timezone names; just UTC and US ones.

I'm in CET though - and I would like to use my local time here.

The fix was to `time.RFC822Z` instead, which specifies the timezone offset numerically.


